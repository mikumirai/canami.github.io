window.__require=function t(e,o,n){function i(c,s){if(!o[c]){if(!e[c]){var p=c.split("/");if(p=p[p.length-1],!e[p]){var a="function"==typeof __require&&__require;if(!s&&a)return a(p,!0);if(r)return r(p,!0);throw new Error("Cannot find module '"+c+"'")}c=p}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"4edf80Wph9DS5uBvp8WaeZY","Bullet");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=20,e}return n(e,t),e.prototype.start=function(){},e.prototype.update=function(t){this.node.y+=this.speed},i([s],e.prototype,"speed",void 0),e=i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Enemy:[function(t,e,o){"use strict";cc._RF.push(e,"6f2f7uUmGJKoLuNLK5HC4kB","Enemy");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./GameMode"),c=cc._decorator,s=c.ccclass,p=c.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.speed=5,e.hp=1,e.score=1,e.death=!1,e}return n(e,t),e.prototype.start=function(){var t=this;this.anim=this.getComponent(cc.Animation),this.node.getComponent(cc.Animation).on("finished",function(){t.node.active=!1},this)},e.prototype.update=function(t){this.death||r.default.gameOver||this.posPlayer()},e.prototype.posPlayer=function(){this.node.y-=this.speed},e.prototype.onCollisionEnter=function(t,e){"bullet"!==t.node.name||this.death||(this.hp-=1,t.node.active=!1,this.hp<=0&&(this.die(),this.anim.play(),t.node.active=!1,this.gameMode.addScore(this.score)))},e.prototype.die=function(){this.death=!0},i([p(cc.Node)],e.prototype,"player",void 0),i([p],e.prototype,"speed",void 0),i([p(r.default)],e.prototype,"gameMode",void 0),i([p],e.prototype,"hp",void 0),i([p],e.prototype,"score",void 0),e=i([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./GameMode":"GameMode"}],GameMode:[function(t,e,o){"use strict";cc._RF.push(e,"14efcJh+bRBSLKQm7MFyQY0","GameMode");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.player=null,e.enemy1=null,e.enemy2=null,e.enemy3=null,e.score=0,e.enemy1List=[],e.enemy2List=[],e.enemy3List=[],e.enemy1Count=0,e.enemy2Count=0,e.enemy3Count=0,e.time1=0,e.time2=0,e.time3=0,e.enemyTime1=.3,e.enemyTime2=3,e.enemyTime3=10,e.enemyPos=null,e}var o;return n(e,t),o=e,e.prototype.getScore=function(){return this.score},e.prototype.addScore=function(t){this.score+=t,this.label.string="\u5206\u6570\uff1a"+this.score},e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){o.gameOver||(this.player.x-=t.getPreviousLocation().x-t.getLocation().x,this.player.y-=t.getPreviousLocation().y-t.getLocation().y)},this),this.initEnemy(this.enemy1List,this.enemy1,30),this.initEnemy(this.enemy2List,this.enemy2,10),this.initEnemy(this.enemy3List,this.enemy3,3)},e.prototype.initEnemy=function(t,e,o){for(var n=0;n<o;n++){var i=cc.instantiate(e);this.node.addChild(i),i.active=!1,t[n]=i}},e.prototype.creatEnemy=function(t,e,o){var n=e[t],i=n.getComponent("Enemy");i.death=!1,i.hp=o,n.setPosition(Math.floor(570*Math.random()-285),this.enemyPos.getPosition().y),n.active=!0},e.prototype.update=function(t){o.gameOver||(this.time1+=t,this.time2+=t,this.time3+=t,this.time1>this.enemyTime1&&(this.creatEnemy(this.enemy1Count,this.enemy1List,1),this.enemy1Count++,this.time1=0,this.enemy1Count>=30&&(this.enemy1Count=0)),this.time2>this.enemyTime2&&(this.creatEnemy(this.enemy2Count,this.enemy2List,2),this.enemy2Count++,this.time2=0,this.enemy2Count>=10&&(this.enemy2Count=0)),this.time3>this.enemyTime3&&(this.creatEnemy(this.enemy3Count,this.enemy3List,5),this.enemy3Count++,this.time3=0,this.enemy3Count>=3&&(this.enemy3Count=0)))},e.prototype.gameStart=function(){o.gameOver=!1,this.gameStartB.active=!1,this.restartB.active=!1},e.prototype.restart=function(){cc.director.loadScene("Game")},e.gameOver=!0,i([s(cc.Label)],e.prototype,"label",void 0),i([s(cc.Node)],e.prototype,"player",void 0),i([s(cc.Node)],e.prototype,"enemy1",void 0),i([s(cc.Node)],e.prototype,"enemy2",void 0),i([s(cc.Node)],e.prototype,"enemy3",void 0),i([s],e.prototype,"enemyTime1",void 0),i([s],e.prototype,"enemyTime2",void 0),i([s],e.prototype,"enemyTime3",void 0),i([s(cc.Node)],e.prototype,"enemyPos",void 0),i([s(cc.Node)],e.prototype,"gameStartB",void 0),i([s(cc.Node)],e.prototype,"restartB",void 0),e=o=i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"9188b/lifRMVbKr/+8Kqc75","Player");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./GameMode"),c=cc._decorator,s=c.ccclass,p=c.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bullet=null,e.gun=null,e.player=null,e.restart=null,e.bulletTime=.3,e.time=0,e.bulletList=[],e.count=0,e.death=!1,e}return n(e,t),e.prototype.start=function(){this.anim=this.getComponent(cc.Animation);for(var t=0;t<20;t++){var e=cc.instantiate(this.bullet);this.player.addChild(e),e.active=!1,this.bulletList[t]=e}},e.prototype.update=function(t){r.default.gameOver||(this.time+=t,this.time>this.bulletTime&&(this.fire(),this.time=0),this.border())},e.prototype.border=function(){this.node.x<-310&&(this.node.x=-310),this.node.x>310&&(this.node.x=310),this.node.y<-500&&(this.node.y=-500),this.node.y>500&&(this.node.y=500)},e.prototype.fire=function(){this.count>=20&&(this.count=0);var t=this.bulletList[this.count];t.setPosition(this.player.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(this.gun.getPosition()))),t.active=!0,this.count++},e.prototype.onCollisionEnter=function(t,e){var o=t.getComponent("Enemy");"enemy1"!==t.node.name&&"enemy2"!==t.node.name&&("enemy3"!==t.node.name||this.death||o.death)||(this.die(),this.anim.play(),t.node.active=!1)},e.prototype.die=function(){this.death=!0,r.default.gameOver=!0,this.restart.active=!0},i([p(cc.Prefab)],e.prototype,"bullet",void 0),i([p(cc.Node)],e.prototype,"gun",void 0),i([p(cc.Node)],e.prototype,"player",void 0),i([p(cc.Node)],e.prototype,"restart",void 0),i([p],e.prototype,"bulletTime",void 0),e=i([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./GameMode":"GameMode"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,o){"use strict";cc._RF.push(e,"4dc816gkNZBhZdY8Yjg0CnY","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["Bullet","Enemy","GameMode","Player","use_v2.1-2.2.1_cc.Toggle_event"]);